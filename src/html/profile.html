@SPK@include("partials/mainhead.html")
<link rel="stylesheet" href="../assets/libs/glightbox/css/glightbox.min.css">

<!-- Axios dependency-->
<script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

<!-- API Integration & functionalities-->
<script src="../assets/js/services-integration.js"></script>

</head>

<body onload="loadProfilePage()">

    @SPK@include("partials/switcher.html")
    @SPK@include("partials/loader.html")

    <div class="page">
        @SPK@include("partials/header.html")
        @SPK@include("partials/sidebar.html")
        @SPK@include("partials/dashbord-page-header.html", {"dashbordtitle": "Profile", "dashbordsubtitle": 'Chainview', "dashbordsubtitle2": 'Detailed view'})

        <!-- Start::app-content -->
        <div class="main-content app-content">
            <div class="container-fluid">


                <!-- Start::row-1 -->
                <div class="row">
                    <div class="col-xxl-12 col-xl-12">
                        <div class="card custom-card overflow-hidden">
                            <div class="card-body d-sm-flex align-items-top p-4   main-profile-cover">
                                <p class="avatar avatar-xxl avatar-rounded online me-3 my-auto"> <!-- set user profile photo here-->
                                    <img id="profile-header-photo" src="../assets/images/faces/1.jpg" alt="">
                                </p>
                                <div class="flex-fill main-profile-info my-auto">
                                    <h5 class="fw-semibold mb-1" id="profile-header-name"></h5>
                                    <div>
                                        <p class="mb-1 text-muted" id="profile-header-email"></p>
                                        <div class="fs-12 op-7 mb-0 d-flex">
                                            <p class="me-3 mb-0"><i class="ri-building-line me-1 align-middle d-inline-flex"></i><span id="profile-header-phone" class="fs-10"></span></p>
                                            <p class="mb-0"><i class="ri-map-pin-line me-1 align-middle d-inline-flex"></i><span id="profile-header-city" class="fs-10"></span>, <span id="profile-header-state" class="fs-10"></span>, <span id="profile-header-country" class="fs-10"></span></p> 
                                        </div>
                                    </div>
                                </div>
                                <div class="main-profile-info ms-auto">
                                    <div class="">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <span class="text-muted fs-12">Last updated on : <span id="profile-last-updated-on"></span></span> <!-- get UPDATED_TS from user profile-->
                                        </div>
                                    </div>
                                    <div class="mb-0  mt-2 text-end" id="btn_userStatus">
                                        <button type="button" class="btn btn-success btn-lg btn-wave"><i class="align-middle"></i>Active</button>
                                    </div>
                                </div>
                             </div>
                        </div>
                    </div>
                    <div class="col-xxl-3">
                        <div class="card custom-card">
                           <div class="">
                            <div class="p-4 border-bottom border-block-end-dashed" id="profile-status">
                                <!--Profile status elements are created dynamically on runtime-->
                            </div>
                            <div class="p-4  border-bottom border-block-end-dashed">
                                <ul class="list-group">
                                    <li class="list-group-item border-0">
                                        <div class="d-flex flex-wrap align-items-center">
                                            <div class="me-2 fw-semibold">
                                                First Name :
                                            </div>
                                            <span class="fs-12 text-muted" id="profile-firstname">Firstname</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item border-0">
                                        <div class="d-flex flex-wrap align-items-center">
                                            <div class="me-2 fw-semibold">
                                                Last Name :
                                            </div>
                                            <span class="fs-12 text-muted" id="profile-lastname">Lastname</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item border-0">
                                        <div class="d-flex flex-wrap align-items-center">
                                            <div class="me-2 fw-semibold">
                                                Display Name :
                                            </div>
                                            <span class="fs-12 text-muted" id="profile-displayname">Display Name</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item border-0">
                                        <div class="d-flex flex-wrap align-items-center">
                                            <div class="me-2 fw-semibold">
                                                Current Tier :
                                            </div>
                                            <span class="fs-12 text-muted" id="profile-rolecode">RoleCode</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item border-0">
                                        <div class="d-flex flex-wrap align-items-center">
                                            <div class="me-2 fw-semibold">
                                                Subscribed on :
                                            </div>
                                            <span class="fs-12 text-muted" id="profile-timestamp">Create_Timestamp</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="p-4 border-bottom border-block-end-dashed">
                                <p class="fs-15 mb-2 me-4 fw-semibold">Contact Information :</p>
                                <div class="text-muted">
                                    <p class="mb-3">
                                        <span class="avatar avatar-sm avatar-rounded me-2 bg-info-transparent">
                                            <i class="ri-mail-line align-middle fs-14"></i>
                                        </span>
                                        <span id="profile-email"></span>
                                    </p>
                                    <p class="mb-3">
                                        <span class="avatar avatar-sm avatar-rounded me-2 bg-warning-transparent">
                                            <i class="ri-phone-line align-middle fs-14"></i>
                                        </span>
                                        <span id="profile-phone"></span>
                                    </p>
                                    <div class="d-flex">
                                        <p class="mb-0">
                                            <span class="avatar avatar-sm avatar-rounded me-2 bg-success-transparent">
                                                <i class="ri-map-pin-line align-middle fs-14"></i>
                                            </span>
                                        </p>
                                        <p class="mb-0">
                                            <span id="profile-city"></span>, <span id="profile-state"></span>, <span id="profile-country"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 border-bottom border-block-end-dashed">
                                <p class="fs-15 mb-2 me-4 fw-semibold">Active Bots :</p>
                                <div id="bot-list">
                                </div>
                            </div>
                           </div>
                        </div>
                    </div>
                    <div class="col-xxl-9 col-xl-12">
                        <!-- Start::row-1 -->
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card custom-card">
                                <div class="card-body p-0 product-checkout">
                                    <ul class="nav nav-tabs tab-style-6 nav-justified d-sm-flex d-block border-bottom border-block-end-dashed" id="myTab1" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link active" id="order-tab" data-bs-toggle="tab"
                                                data-bs-target="#order-tab-pane" type="button" role="tab"
                                                aria-controls="order-tab" aria-selected="true"><i
                                                    class="ri-user-3-line me-2 align-middle d-inline-block"></i>Personal</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="confirmed-tab" data-bs-toggle="tab"
                                                data-bs-target="#confirm-tab-pane" type="button" role="tab"
                                                aria-controls="confirmed-tab" aria-selected="false"><i
                                                    class="ri-terminal-box-line me-2 align-middle d-inline-block"></i>Connectivity</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="shipped-tab" data-bs-toggle="tab"
                                                data-bs-target="#shipped-tab-pane" type="button" role="tab"
                                                aria-controls="shipped-tab" aria-selected="false"><i
                                                    class="ri-bank-card-line me-2 align-middle d-inline-block"></i>Payment</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="delivered-tab" data-bs-toggle="tab"
                                                data-bs-target="#delivery-tab-pane" type="button" role="tab"
                                                aria-controls="delivered-tab" aria-selected="false"><i
                                                    class="ri-checkbox-circle-line me-2 align-middle d-inline-block"></i>Confirmation</button>
                                        </li>
                                    </ul>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active border-0 p-0" id="order-tab-pane" role="tabpanel"
                                            aria-labelledby="order-tab-pane" tabindex="0">
                                            <div class="p-4">
                                                <p class="mb-1 fw-semibold text-muted op-5 fs-20">01</p>
                                                <div class="fs-15 fw-semibold d-sm-flex d-block align-items-center justify-content-between mb-3">
                                                    <div>Personal Details :</div>
                                                    <div class="mt-sm-0 mt-2">
                                                        <!-- <button aria-label="button" type="button" class="btn btn-primary btn-sm"  data-bs-toggle="modal" data-bs-target="#modal-new-address"><i class="ri-add-line me-1 align-middle fs-14 fw-semibold"></i>Add New Address</button> -->
                                                        
                                                    </div>
                                                </div>
                                                <div class="row gy-4 mb-4">
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="firstname-add" placeholder="firstName" required>
                                                            <label for="firstname-add">First Name</label>
                                                            <div class="invalid-feedback" id="firstname-empty" style="display:none;">
                                                                First name cannot be emtpty.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="lastname-add" placeholder="lastName" required>
                                                            <label for="lastname-add">Last Name</label>
                                                            <div class="invalid-feedback" id="lastname-empty" style="display:none;">
                                                                Last name cannot be emtpty.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="email-add" placeholder="emailAddress" readonly="readonly" required>
                                                            <label for="email-add">Email</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="displayname-add" placeholder="displayName">
                                                            <label for="displayname-add">Display Name</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-2">
                                                        <div class="form-floating">
                                                            <p class="avatar avatar-xxl avatar-rounded me-3 my-auto"> <!-- set user profile photo here-->
                                                                <img id="profile-display-photo" src="../assets/images/faces/1.jpg" alt="">
                                                            </p>
                                                        </div>   
                                                    </div>
                                                    <div class="col-xl-7">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="photourl-add" placeholder="photourl" disabled>
                                                            <label for="photourl-add">Profile Photo</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-3">
                                                        <div class="form-floating">
                                                            <input type="file" accept="image/*" class="form-control fs-16" id="profile-photo" style="display: none;" onchange="profilePhotoChoosen()">
                                                            <div class="d-flex justify-content-around">
                                                                <div class="">
                                                                    <label class="btn btn-primary" for="profile-photo">Choose</label>
                                                                </div>
                                                                <div class="">
                                                                    <button class="btn btn-primary" type="button" id="profile-upload" onclick="uploadProfilePhoto()" disabled>Upload</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="email" class="form-control" id="primary-phoneno-add" placeholder="1234-XX-XXXX" required>
                                                            <label for="primary-phoneno-add">Primary Phone</label>
                                                            <div class="invalid-feedback" id="primary-phoneno-empty" style="display:none;">
                                                                Primary phone cannot be emtpty.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="email" class="form-control" id="secondary-phoneno-add" placeholder="1234-XX-XXXX">
                                                            <label for="secondary-phoneno-add">Secondary Phone</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="clientid-add" placeholder="clientid">
                                                            <label for="clientid-add">Client ID</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-6">
                                                        <div class="form-floating">
                                                            <textarea class="form-control" placeholder="Address Here" id="address-add" required></textarea>
                                                            <label for="address-add">Address</label>
                                                            <div class="invalid-feedback" id="address-empty" style="display:none;">
                                                                Address cannot be emtpty.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-12">
                                                        <div class="row gy-2">
                                                            <div class="col-xl-3">
                                                                <div class="form-floating">
                                                                    <input type="number" class="form-control" id="pincode-add" placeholder="Name" required>
                                                                    <label for="pincode-add">Pin Code</label>
                                                                    <div class="invalid-feedback" id="pincode-empty" style="display:none;">
                                                                        Pin code cannot be emtpty.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xl-3">
                                                                <div class="form-floating">
                                                                    <input type="text" class="form-control" id="city-add" placeholder="Name" required>
                                                                    <label for="city-add">City</label>
                                                                    <div class="invalid-feedback" id="city-empty" style="display:none;">
                                                                        City cannot be emtpty.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xl-3">
                                                                <div class="form-floating">
                                                                    <input type="text" class="form-control" id="state-add" placeholder="Name" required>
                                                                    <label for="state-add">State</label>
                                                                    <div class="invalid-feedback" id="state-empty" style="display:none;">
                                                                        State cannot be emtpty.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xl-3">
                                                                <div class="form-floating">
                                                                    <input type="text" class="form-control" id="country-add" placeholder="Name" required>
                                                                    <label for="country-add">Country</label>
                                                                    <div class="invalid-feedback" id="country-empty" style="display:none;">
                                                                        Country cannot be emtpty.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="px-4 py-3 border-top border-block-start-dashed d-sm-flex justify-content-end">
                                                <button type="button" class="btn btn-success d-inline-flex" id="personal-details-trigger">Connectivity<i class="ri-terminal-box-line ms-2 align-middle"></i></button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade border-0 p-0" id="confirm-tab-pane" role="tabpanel" aria-labelledby="confirm-tab-pane" tabindex="0">
                                            <div class="p-4">
                                                <p class="mb-1 fw-semibold text-muted op-5 fs-20">02</p>
                                                <div class="fs-15 fw-semibold d-sm-flex d-block align-items-center justify-content-between mb-3">
                                                    <div>Connectivity :</div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <div class="card custom-card shadow-none mb-1"></div>
                                                    <div class="card-body">
                                                        <div class="row gy-4 mb-4">
                                                            <div class="col-xl-6">
                                                                <label for="platform-name" class="form-label">Plaform</label>
                                                                <input type="text" class="form-control" id="platform-name" placeholder="Platform" value="">
                                                            </div>
                                                            <div class="col-xl-6">
                                                                <label for="risklevel-name" class="form-label">Risk Level</label>
                                                                <div class="col-12">
                                                                    <label class="visually-hidden" for="risk-level">Risk Level</label>
                                                                    <select class="form-select" id="risk-level">
                                                                        <option value="1" selected>Low</option>
                                                                        <option value="2">Medium</option>
                                                                        <option value="3">High</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-xl-12">
                                                                <label for="api-key-value" class="form-label">API Key</label>
                                                                <input type="text" class="form-control" id="api-key-value" placeholder="API Key" value="">
                                                            </div>
                                                            <div class="col-xl-12">
                                                                <label for="api-secret-value" class="form-label">API Secret</label>
                                                                <input type="text" class="form-control" id="api-secret-value" placeholder="API Secret" value="">
                                                            </div>
                                                            <div class="col-xl-12 mt-4">
                                                                <label for="notes-section" class="form-label ">Notes</label>
                                                                <textarea class="form-control" id="notes-section" rows="4"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="px-4 py-3 border-top border-block-start-dashed d-sm-flex justify-content-between">
                                                    <button type="button" class="btn btn-danger-light d-inline-flex" id="back-shipping-trigger"><i class="ri-user-3-line me-2 align-middle"></i>Back To Personal</button>
                                                    <button type="button" class="btn btn-success mt-sm-0 mt-2 d-inline-flex" id="payment-trigger">Continue To Payment<i class="bi bi-credit-card-2-front align-middle ms-2"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade border-0 p-0" id="shipped-tab-pane" role="tabpanel"
                                            aria-labelledby="shipped-tab-pane" tabindex="0">
                                            <div class="p-4">
                                                <p class="mb-1 fw-semibold text-muted op-5 fs-20">03</p>
                                                <div class="fs-15 fw-semibold d-sm-flex d-block align-items-center justify-content-between mb-3">
                                                    <div>Payment Details :</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xl-12">
                                                        <div class="card custom-card border shadow-none mb-3">
                                                            <!-- <div class="card-header">
                                                                <div class="card-title">
                                                                    Payment Methods
                                                                </div>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="btn-group mb-3 d-sm-flex d-block" role="group" aria-label="Basic radio toggle button group">
                                                                    <input type="radio" class="btn-check" name="btnradio" id="btnradio3" checked>
                                                                    <label class="btn btn-outline-light text-default mt-sm-0 mt-1" for="btnradio3">Credit/Debit Card</label>
                                                                </div>
                                                                <div class="row gy-3">
                                                                    <div class="col-xl-12">
                                                                        <label for="payment-card-number" class="form-label">Card Number</label>
                                                                        <input type="text" class="form-control" id="payment-card-number" placeholder="Card Number" value="1245 - 5447 - 8934 - XXXX">
                                                                    </div>
                                                                    <div class="col-xl-12">
                                                                        <label for="payment-card-name" class="form-label">Name On Card</label>
                                                                        <input type="text" class="form-control" id="payment-card-name" placeholder="Name On Card" value="JSON TAYLOR">
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <label for="payment-cardexpiry-date" class="form-label">Expiration Date</label>
                                                                        <input type="text" class="form-control" id="payment-cardexpiry-date" placeholder="MM/YY" value="08/2024">
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <label for="payment-cvv" class="form-label">CVV</label>
                                                                        <input type="text" class="form-control" id="payment-cvv" placeholder="XXX" value="341">
                                                                    </div>
                                                                    <div class="col-xl-12">
                                                                        <div class="form-check">
                                                                            <input class="form-check-input form-checked-success" type="checkbox" value="" id="payment-card-save" checked>
                                                                            <label class="form-check-label" for="payment-card-save">Save this card</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div> -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="px-4 py-3 border-top border-block-start-dashed d-sm-flex justify-content-between">
                                                <button type="button" class="btn btn-danger-light d-inline-flex" id="back-personal-trigger"><i class="ri-terminal-box-line me-2 align-middle"></i>Back To Connectivity</button>
                                                <button type="button" class="btn btn-success mt-sm-0 mt-2" id="continue-payment-trigger">Continue Review & Submit<i class="bi bi-credit-card-2-front align-middle ms-2"></i></button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade border-0 p-0" id="delivery-tab-pane" role="tabpanel"
                                            aria-labelledby="delivery-tab-pane" tabindex="0">
                                            <div class="p-5 checkout-payment-success my-3">
                                                <a  class="btn btn-success" data-bs-toggle="modal" data-bs-target="#profileSubmitModal">Submit</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--End::row-1 -->
                    </div>
                </div>
                <!--End::row-1 -->

            </div>
        </div>
        <!-- End::app-content -->

        @SPK@include("partials/headersearch_modal.html")
         @SPK@include("partials/footer.html")
        @SPK@include("partials/side-bar.html")

    </div>

    @SPK@include("partials/commonjs.html")

    @SPK@include("partials/custom_switcherjs.html")

    <div class="toast-container position-fixed top-0 start-50 translate-middle-x p-5">
        <div id="update-profile-success" class="toast colored-toast text-bg-success" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <span id="alert-success-msg" class="fs-18"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed top-0 start-50 translate-middle-x p-5">
        <div id="update-profile-error" class="toast colored-toast text-bg-secondary" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <span id="alert-error-msg" class="fs-18"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="profileSubmitModal" data-bs-backdrop="static"
            data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h6 class="modal-title" id="staticBackdropLabel">Confirm Submission
                        </h6>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to submit the Profile details?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"
                            data-bs-dismiss="modal">No</button>
                        <button type="button" class="btn btn-outline-primary" onclick="updateProfile()"
                            data-bs-dismiss="modal">Submit</button>
                    </div>
                </div>
            </div>
    </div>

    <!-- Gallery JS -->
    <script src="../assets/libs/glightbox/js/glightbox.min.js"></script>

    <!-- Internal Profile JS -->
    <script src="../assets/js/profile.js"></script>
    
    <!-- Internal Checkout JS -->
    <script src="../assets/js/profile-stepper.js"></script>

    <!-- Custom JS -->
    <script src="../assets/js/custom.js"></script>

</body>

</html>